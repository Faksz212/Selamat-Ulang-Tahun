<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Selamat Ulang Tahun, Nisa!</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      height: 100%;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      color: #fff;
      overflow: hidden;
      padding: 20px;
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 40px 50px 60px;
      max-width: 480px;
      width: 100%;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      text-align: center;
      position: relative;
      overflow: visible;
    }

    h1 {
      font-weight: 700;
      font-size: 2.8rem;
      margin-bottom: 15px;
      letter-spacing: 1.2px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }

    p {
      font-weight: 400;
      font-size: 1.2rem;
      margin-bottom: 35px;
      line-height: 1.5;
      text-shadow: 0 1px 5px rgba(0,0,0,0.2);
    }

    button {
      background: #ff6f91;
      border: none;
      padding: 15px 40px;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 700;
      color: white;
      cursor: pointer;
      box-shadow: 0 6px 15px rgba(255, 111, 145, 0.6);
      transition: background 0.3s ease, transform 0.2s ease;
      user-select: none;
      outline: none;
      margin: 0 10px;
    }

    button:hover:not(:disabled) {
      background: #ff3b6f;
      transform: scale(1.05);
    }

    button:disabled {
      background: #aaa;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .btn-container {
      margin-bottom: 30px;
    }

    .surprise {
      font-size: 1.5rem;
      font-weight: 700;
      color: #ffe066;
      margin-top: 25px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      text-shadow: 0 2px 6px rgba(0,0,0,0.4);
    }

    .surprise.show {
      opacity: 1;
      transform: translateY(0);
    }

    .confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      overflow: visible;
      z-index: 9999;
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #ffe066;
      opacity: 0.9;
      border-radius: 3px;
      animation: confetti-fall linear forwards;
      will-change: transform, opacity;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    .bubble {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.15);
      animation: floatUp ease-in-out infinite;
      opacity: 0.7;
      pointer-events: none;
    }

    @keyframes floatUp {
      0%, 100% {
        transform: translateY(0);
        opacity: 0.7;
      }
      50% {
        transform: translateY(-40px);
        opacity: 1;
      }
    }

    /* Foto teman */
    .photo-container {
      margin: 0 auto 30px;
      width: 180px;
      height: 180px;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      transition: transform 0.5s ease;
      cursor: pointer;
      border: 4px solid #ffe066;
    }

    .photo-container.animate {
      animation: pulse 1.5s ease infinite;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 8px 20px rgba(255, 224, 102, 0.8);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 12px 30px rgba(255, 224, 102, 1);
      }
    }

    .photo-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Audio controls container */
    .audio-controls {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .audio-controls button {
      background: #ffe066;
      color: #333;
      box-shadow: 0 4px 12px rgba(255, 224, 102, 0.7);
    }

    .audio-controls button:hover {
      background: #ffd500;
      color: #222;
      transform: scale(1.1);
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="photo-container" id="photoContainer" title="Klik untuk animasi">
      <img src="https://files.catbox.moe/zzf6to.jpg" alt="You" />
    </div>
    <h1>Selamat Ulang Tahun, Khairunisa!</h1>
    <p>Semoga hari ini penuh kebahagiaan, tawa, dan kenangan indah yang tak terlupakan. Terima kasih sudah jadi teman ku!</p>
    <div class="btn-container">
      <button id="celebrateBtn">Rayakan Sekarang!</button>
      <button id="toggleMusicBtn" disabled>Putar Musik</button>
    </div>
    <div class="surprise" id="surpriseMsg">ðŸŽ‰ Kamu luar biasa! Semoga semua impianmu tercapai! ðŸŽ‰</div>
  </div>

  <div class="confetti-container" id="confettiContainer"></div>

  <audio id="birthdayAudio" loop preload="auto"src="music/happy-birthday.mp3></audio>

  <script>
    const btnCelebrate = document.getElementById('celebrateBtn');
    const btnToggleMusic = document.getElementById('toggleMusicBtn');
    const surpriseMsg = document.getElementById('surpriseMsg');
    const confettiContainer = document.getElementById('confettiContainer');
    const birthdayAudio = document.getElementById('birthdayAudio');
    const photoContainer = document.getElementById('photoContainer');

    // Buat confetti
    function createConfettiPiece() {
      const confetti = document.createElement('div');
      confetti.classList.add('confetti');
      confetti.style.left = Math.random() * window.innerWidth + 'px';
      confetti.style.backgroundColor = `hsl(${Math.random() * 60 + 40}, 100%, 70%)`;
      confetti.style.width = 7 + Math.random() * 6 + 'px';
      confetti.style.height = confetti.style.width;
      confetti.style.top = '-10px';
      confetti.style.animationDuration = 2 + Math.random() * 3 + 's';
      confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
      confettiContainer.appendChild(confetti);

      setTimeout(() => {
        confetti.remove();
      }, 5000);
    }

    // Buat bubble floating di background
    function createBubble() {
      const bubble = document.createElement('div');
      bubble.classList.add('bubble');
      const size = 20 + Math.random() * 40;
      bubble.style.width = size + 'px';
      bubble.style.height = size + 'px';
      bubble.style.left = Math.random() * window.innerWidth + 'px';
      bubble.style.bottom = '-50px';
      bubble.style.animationDuration = 6 + Math.random() * 6 + 's';
      bubble.style.animationDelay = Math.random() * 5 + 's';
      confettiContainer.appendChild(bubble);

      setTimeout(() => {
        bubble.remove();
      }, 12000);
    }

    // Buat beberapa bubble awal
    for(let i=0; i<15; i++) {
      setTimeout(createBubble, i * 400);
    }

    btnCelebrate.addEventListener('click', () => {
      btnCelebrate.disabled = true;
      btnCelebrate.style.cursor = 'default';

      surpriseMsg.classList.add('show');
      btnToggleMusic.disabled = false;

      // Mulai confetti
      const confettiInterval = setInterval(createConfettiPiece, 100);

      // Buat bubble tambahan saat rayakan
      const bubbleInterval = setInterval(createBubble, 500);

      // Stop animasi setelah 7 detik
      setTimeout(() => {
        clearInterval(confettiInterval);
        clearInterval(bubbleInterval);
      }, 7000);
    });

    // Toggle musik play/pause
    btnToggleMusic.addEventListener('click', () => {
      if (birthdayAudio.paused) {
        birthdayAudio.play();
        btnToggleMusic.textContent = 'Jeda Musik';
        photoContainer.classList.add('animate');
      } else {
        birthdayAudio.pause();
        btnToggleMusic.textContent = 'Putar Musik';
        photoContainer.classList.remove('animate');
      }
    });

    // Animasi foto saat diklik (opsional)
    photoContainer.addEventListener('click', () => {
      photoContainer.classList.toggle('animate');
      if (birthdayAudio.paused) {
        birthdayAudio.play();
        btnToggleMusic.textContent = 'Jeda Musik';
        btnToggleMusic.disabled = false;
      } else {
        birthdayAudio.pause();
        btnToggleMusic.textContent = 'Putar Musik';
      }
    });
  </script>
</body>
</html>